host: MPLCLTMP0423.local
Building DAG of jobs...
Your conda installation is not configured to use strict channel priorities. This is however important for having robust and correct environments (for details, see https://conda-forge.org/docs/user/tipsandtricks.html). Please consider to configure strict priorities by executing 'conda config --set channel_priority strict'.
Using shell: /opt/homebrew/bin/bash
Provided cores: 4
Rules claiming more threads will be scaled down.
Conda environments: ignored
Job stats:
job                       count
----------------------  -------
all                           1
events_extaction              1
metadata_concatenation        1
treetime_clock                1
treetime_mugration            1
treetime_timescale            1
total                         6

Select jobs to execute...
Execute 1 jobs...

[Fri May 16 18:40:30 2025]
Job 6: 
        Concatenating query and background metadata files
        Samples : alpha
        
Reason: Updated input files: resources/input_dir/alpha_Background.metadata.tsv

[Fri May 16 18:40:30 2025]
Finished job 6.
1 of 6 steps (17%) done
Select jobs to execute...
Execute 2 jobs...

[Fri May 16 18:40:33 2025]
Job 9: 
        Verifiying molecular clock signal
        Sample : alpha
        
Reason: Input files updated by another job: results/00_Dataset/alpha_metadata.tsv


[Fri May 16 18:40:33 2025]
Job 8: 
        Inferring time-scale phylogenetic tree using treetime
        Sample : alpha
        
Reason: Input files updated by another job: results/00_Dataset/alpha_metadata.tsv

[Fri May 16 18:40:53 2025]
Finished job 9.
2 of 6 steps (33%) done
[Fri May 16 18:42:06 2025]
Finished job 8.
3 of 6 steps (50%) done
Select jobs to execute...
Execute 1 jobs...

[Fri May 16 18:42:06 2025]
Job 7: 
        Place Attribute to each tip in the tree
        Sample : alpha
        
Reason: Input files updated by another job: results/99_FINAL_REPORT/alpha_timetree.nexus, results/00_Dataset/alpha_metadata.tsv

[Fri May 16 18:42:12 2025]
Finished job 7.
4 of 6 steps (67%) done
Select jobs to execute...
Execute 1 jobs...

[Fri May 16 18:42:12 2025]
Job 5: 
        Extract events from the tree for the sample : alpha
        Using Baltic script developed by @eduan and col.
        
Reason: Missing output files: results/99_FINAL_REPORT/alpha_annottated_tree_events.csv; Input files updated by another job: results/00_Dataset/alpha_metadata.tsv, results/05_Treetime_mugration/alpha_tree/annotated_tree.nexus

RuleException:
CalledProcessError in file /Users/armel001/git/ViralPhyloDyna/workflow/rules/events_extraction.smk, line 23:
Command 'set -euo pipefail;  /Users/armel001/miniforge3/envs/snakemake-env/bin/python3.12 /Users/armel001/git/ViralPhyloDyna/.snakemake/scripts/tmp6c1wy3tq.AncestralChanges.py' returned non-zero exit status 1.
[Fri May 16 18:42:12 2025]
Error in rule events_extaction:
    jobid: 5
    input: results/00_Dataset/alpha_metadata.tsv, results/05_Treetime_mugration/alpha_tree/annotated_tree.nexus
    output: results/99_FINAL_REPORT/alpha_annottated_tree_events.csv
    log: results/log/alpha_aligned_trimmed_tree_events.log (check log file(s) for error details)
    conda-env: /Users/armel001/git/ViralPhyloDyna/.snakemake/conda/586f3d019f70031fa957f1dd7212ff62_

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2025-05-16T184028.951312.snakemake.log
WorkflowError:
At least one job did not complete successfully.
