host: MPLCLTMP0423.local
Building DAG of jobs...
Using shell: /opt/homebrew/bin/bash
Provided cores: 4
Rules claiming more threads will be scaled down.
Job stats:
job                       count
----------------------  -------
alignment                     3
all                           1
events_extaction              3
fasta_concatenation           3
initial_tree                  3
mask_alignment                3
metadata_concatenation        3
treetime_clock                3
treetime_mugration            3
treetime_timescale            3
total                        28

Select jobs to execute...
Execute 4 jobs...

[Thu Mar 13 11:28:07 2025]
Job 6: 
        Concatenating query and background metadata files
        Samples : beta
        
Reason: Missing output files: results/00_Dataset/beta_metadata.tsv


[Thu Mar 13 11:28:07 2025]
Job 18: 
        Concatenating query and background metadata files
        Samples : delta
        
Reason: Missing output files: results/00_Dataset/delta_metadata.tsv


[Thu Mar 13 11:28:07 2025]
Job 5: 
        Concatenating query and background FASTA files and removing duplicates
        Samples : beta
        
Reason: Missing output files: results/00_Dataset/beta_msa_rmdup.fasta

Activating conda environment: .snakemake/conda/ad7b7445f449c5e91328dad022088973_

[Thu Mar 13 11:28:07 2025]
Job 12: 
        Concatenating query and background metadata files
        Samples : alpha
        
Reason: Missing output files: results/00_Dataset/alpha_metadata.tsv

[Thu Mar 13 11:28:07 2025]
Finished job 18.
1 of 28 steps (4%) done
[Thu Mar 13 11:28:07 2025]
Finished job 6.
2 of 28 steps (7%) done
Select jobs to execute...
Execute 2 jobs...

[Thu Mar 13 11:28:07 2025]
Job 17: 
        Concatenating query and background FASTA files and removing duplicates
        Samples : delta
        
Reason: Missing output files: results/00_Dataset/delta_msa_rmdup.fasta

Activating conda environment: .snakemake/conda/ad7b7445f449c5e91328dad022088973_

[Thu Mar 13 11:28:07 2025]
Job 11: 
        Concatenating query and background FASTA files and removing duplicates
        Samples : alpha
        
Reason: Missing output files: results/00_Dataset/alpha_msa_rmdup.fasta

Activating conda environment: .snakemake/conda/ad7b7445f449c5e91328dad022088973_
[Thu Mar 13 11:28:07 2025]
Finished job 12.
3 of 28 steps (11%) done
[Thu Mar 13 11:28:08 2025]
Finished job 11.
4 of 28 steps (14%) done
Select jobs to execute...
Execute 1 jobs...

[Thu Mar 13 11:28:08 2025]
Job 10: 
        Aligning the concatenated FASTA file
        Sample : alpha
        
Reason: Missing output files: results/01_Alignment/alpha_aligned.fasta; Input files updated by another job: results/00_Dataset/alpha_msa_rmdup.fasta

Activating conda environment: .snakemake/conda/74a7941edda4f0c31f986e6d9a101f4b_
[Thu Mar 13 11:28:08 2025]
Finished job 5.
5 of 28 steps (18%) done
[Thu Mar 13 11:28:08 2025]
Finished job 17.
6 of 28 steps (21%) done
Select jobs to execute...
Execute 2 jobs...

[Thu Mar 13 11:28:08 2025]
Job 4: 
        Aligning the concatenated FASTA file
        Sample : beta
        
Reason: Missing output files: results/01_Alignment/beta_aligned.fasta; Input files updated by another job: results/00_Dataset/beta_msa_rmdup.fasta

Activating conda environment: .snakemake/conda/74a7941edda4f0c31f986e6d9a101f4b_

[Thu Mar 13 11:28:08 2025]
Job 16: 
        Aligning the concatenated FASTA file
        Sample : delta
        
Reason: Missing output files: results/01_Alignment/delta_aligned.fasta; Input files updated by another job: results/00_Dataset/delta_msa_rmdup.fasta

Activating conda environment: .snakemake/conda/74a7941edda4f0c31f986e6d9a101f4b_
[Thu Mar 13 11:29:21 2025]
Finished job 10.
7 of 28 steps (25%) done
Select jobs to execute...
Execute 1 jobs...

[Thu Mar 13 11:29:21 2025]
Job 9: 
        Masking and trimming the alignment using Gblocks
        Sample : alpha
        
Reason: Missing output files: results/01_Alignment/alpha_aligned_trimmed.fasta; Input files updated by another job: results/01_Alignment/alpha_aligned.fasta

Activating conda environment: .snakemake/conda/e87063144f01018464a6bca12d029641_
[Thu Mar 13 11:29:22 2025]
Finished job 16.
8 of 28 steps (29%) done
Select jobs to execute...
Execute 1 jobs...

[Thu Mar 13 11:29:22 2025]
Job 15: 
        Masking and trimming the alignment using Gblocks
        Sample : delta
        
Reason: Missing output files: results/01_Alignment/delta_aligned_trimmed.fasta; Input files updated by another job: results/01_Alignment/delta_aligned.fasta

Activating conda environment: .snakemake/conda/e87063144f01018464a6bca12d029641_
[Thu Mar 13 11:29:22 2025]
Finished job 4.
9 of 28 steps (32%) done
Select jobs to execute...
Execute 1 jobs...

[Thu Mar 13 11:29:22 2025]
Job 3: 
        Masking and trimming the alignment using Gblocks
        Sample : beta
        
Reason: Missing output files: results/01_Alignment/beta_aligned_trimmed.fasta; Input files updated by another job: results/01_Alignment/beta_aligned.fasta

Activating conda environment: .snakemake/conda/e87063144f01018464a6bca12d029641_
[Thu Mar 13 11:29:29 2025]
Finished job 3.
10 of 28 steps (36%) done
Select jobs to execute...
Execute 1 jobs...

[Thu Mar 13 11:29:29 2025]
Job 2: 
        Building a phylogenetic tree using IQ-TREE
        Sample : beta
        
Reason: Missing output files: results/02_Phylogenetic_tree/beta_tree/beta_aligned_trimmed.fasta.treefile; Input files updated by another job: results/01_Alignment/beta_aligned_trimmed.fasta

Activating conda environment: .snakemake/conda/718e0263b3a024fe2825541352618afa_
[Thu Mar 13 11:29:29 2025]
Finished job 15.
11 of 28 steps (39%) done
Select jobs to execute...
Execute 1 jobs...

[Thu Mar 13 11:29:29 2025]
Job 14: 
        Building a phylogenetic tree using IQ-TREE
        Sample : delta
        
Reason: Missing output files: results/02_Phylogenetic_tree/delta_tree/delta_aligned_trimmed.fasta.treefile; Input files updated by another job: results/01_Alignment/delta_aligned_trimmed.fasta

Activating conda environment: .snakemake/conda/718e0263b3a024fe2825541352618afa_
[Thu Mar 13 11:29:29 2025]
Finished job 9.
12 of 28 steps (43%) done
Select jobs to execute...
Execute 1 jobs...

[Thu Mar 13 11:29:29 2025]
Job 8: 
        Building a phylogenetic tree using IQ-TREE
        Sample : alpha
        
Reason: Missing output files: results/02_Phylogenetic_tree/alpha_tree/alpha_aligned_trimmed.fasta.treefile; Input files updated by another job: results/01_Alignment/alpha_aligned_trimmed.fasta

Activating conda environment: .snakemake/conda/718e0263b3a024fe2825541352618afa_
[Thu Mar 13 11:32:17 2025]
Finished job 14.
13 of 28 steps (46%) done
Select jobs to execute...
Execute 2 jobs...

[Thu Mar 13 11:32:17 2025]
Job 13: 
        Verifiying molecular clock signal
        Sample : delta
        
Reason: Missing output files: results/99_FINAL_REPORT/delta_root_to_tip_regression.pdf; Input files updated by another job: results/02_Phylogenetic_tree/delta_tree/delta_aligned_trimmed.fasta.treefile, results/00_Dataset/delta_metadata.tsv

Activating conda environment: .snakemake/conda/38bd8cbf87b99d167db693ab77b559e9_

[Thu Mar 13 11:32:17 2025]
Job 27: 
        Inferring time-scale phylogenetic tree using treetime
        Sample : delta
        
Reason: Missing output files: results/99_FINAL_REPORT/delta_timetree.nexus; Input files updated by another job: results/01_Alignment/delta_aligned.fasta, results/02_Phylogenetic_tree/delta_tree/delta_aligned_trimmed.fasta.treefile, results/00_Dataset/delta_metadata.tsv

Activating conda environment: .snakemake/conda/38bd8cbf87b99d167db693ab77b559e9_
[Thu Mar 13 11:32:17 2025]
Finished job 8.
14 of 28 steps (50%) done
Select jobs to execute...
Execute 1 jobs...

[Thu Mar 13 11:32:17 2025]
Job 7: 
        Verifiying molecular clock signal
        Sample : alpha
        
Reason: Missing output files: results/99_FINAL_REPORT/alpha_root_to_tip_regression.pdf; Input files updated by another job: results/02_Phylogenetic_tree/alpha_tree/alpha_aligned_trimmed.fasta.treefile, results/00_Dataset/alpha_metadata.tsv

Activating conda environment: .snakemake/conda/38bd8cbf87b99d167db693ab77b559e9_
[Thu Mar 13 11:32:27 2025]
Finished job 2.
15 of 28 steps (54%) done
Select jobs to execute...
Execute 1 jobs...

[Thu Mar 13 11:32:28 2025]
Job 21: 
        Inferring time-scale phylogenetic tree using treetime
        Sample : beta
        
Reason: Missing output files: results/99_FINAL_REPORT/beta_timetree.nexus; Input files updated by another job: results/01_Alignment/beta_aligned.fasta, results/00_Dataset/beta_metadata.tsv, results/02_Phylogenetic_tree/beta_tree/beta_aligned_trimmed.fasta.treefile

Activating conda environment: .snakemake/conda/38bd8cbf87b99d167db693ab77b559e9_
[Thu Mar 13 11:33:04 2025]
Finished job 7.
16 of 28 steps (57%) done
[Thu Mar 13 11:33:04 2025]
Finished job 13.
17 of 28 steps (61%) done
Select jobs to execute...
Execute 2 jobs...

[Thu Mar 13 11:33:04 2025]
Job 24: 
        Inferring time-scale phylogenetic tree using treetime
        Sample : alpha
        
Reason: Missing output files: results/99_FINAL_REPORT/alpha_timetree.nexus; Input files updated by another job: results/02_Phylogenetic_tree/alpha_tree/alpha_aligned_trimmed.fasta.treefile, results/00_Dataset/alpha_metadata.tsv, results/01_Alignment/alpha_aligned.fasta

Activating conda environment: .snakemake/conda/38bd8cbf87b99d167db693ab77b559e9_

[Thu Mar 13 11:33:04 2025]
Job 1: 
        Verifiying molecular clock signal
        Sample : beta
        
Reason: Missing output files: results/99_FINAL_REPORT/beta_root_to_tip_regression.pdf; Input files updated by another job: results/00_Dataset/beta_metadata.tsv, results/02_Phylogenetic_tree/beta_tree/beta_aligned_trimmed.fasta.treefile

Activating conda environment: .snakemake/conda/38bd8cbf87b99d167db693ab77b559e9_
[Thu Mar 13 11:33:10 2025]
Finished job 1.
18 of 28 steps (64%) done
RuleException:
CalledProcessError in file /Users/armel001/Documents/Workflow_template/workflow/rules/treetime_timescale.smk, line 23:
Command 'source /Users/armel001/miniforge3/bin/activate '/Users/armel001/Documents/Workflow_template/.snakemake/conda/38bd8cbf87b99d167db693ab77b559e9_'; set -euo pipefail;  
        treetime --aln results/01_Alignment/alpha_aligned.fasta         --tree results/02_Phylogenetic_tree/alpha_tree/alpha_aligned_trimmed.fasta.treefile           --dates results/00_Dataset/alpha_metadata.tsv             --clock-rate 0.008         --clock-std-dev 0.0035         --outdir results/04_Timescale_tree/alpha_tree         --confidence
        cp results/04_Timescale_tree/alpha_tree/timetree.nexus results/99_FINAL_REPORT/alpha_timetree.nexus
        echo 'Time scale phylogenetic tree constructed alpha' >> results/log/alpha_aligned_trimmed_tree_ancestral.log' returned non-zero exit status 2.
[Thu Mar 13 11:33:17 2025]
Error in rule treetime_timescale:
    jobid: 24
    input: results/02_Phylogenetic_tree/alpha_tree/alpha_aligned_trimmed.fasta.treefile, results/01_Alignment/alpha_aligned.fasta, results/00_Dataset/alpha_metadata.tsv
    output: results/04_Timescale_tree/alpha_tree, results/99_FINAL_REPORT/alpha_timetree.nexus
    log: results/log/alpha_aligned_trimmed_tree_ancestral.log (check log file(s) for error details)
    conda-env: /Users/armel001/Documents/Workflow_template/.snakemake/conda/38bd8cbf87b99d167db693ab77b559e9_
    shell:
        
        treetime --aln results/01_Alignment/alpha_aligned.fasta         --tree results/02_Phylogenetic_tree/alpha_tree/alpha_aligned_trimmed.fasta.treefile           --dates results/00_Dataset/alpha_metadata.tsv             --clock-rate 0.008         --clock-std-dev 0.0035         --outdir results/04_Timescale_tree/alpha_tree         --confidence
        cp results/04_Timescale_tree/alpha_tree/timetree.nexus results/99_FINAL_REPORT/alpha_timetree.nexus
        echo 'Time scale phylogenetic tree constructed alpha' >> results/log/alpha_aligned_trimmed_tree_ancestral.log
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Removing output files of failed job treetime_timescale since they might be corrupted:
results/04_Timescale_tree/alpha_tree
Terminating processes on user request, this might take some time.
RuleException:
CalledProcessError in file /Users/armel001/Documents/Workflow_template/workflow/rules/treetime_timescale.smk, line 23:
Command 'source /Users/armel001/miniforge3/bin/activate '/Users/armel001/Documents/Workflow_template/.snakemake/conda/38bd8cbf87b99d167db693ab77b559e9_'; set -euo pipefail;  
        treetime --aln results/01_Alignment/beta_aligned.fasta         --tree results/02_Phylogenetic_tree/beta_tree/beta_aligned_trimmed.fasta.treefile           --dates results/00_Dataset/beta_metadata.tsv             --clock-rate 0.008         --clock-std-dev 0.0035         --outdir results/04_Timescale_tree/beta_tree         --confidence
        cp results/04_Timescale_tree/beta_tree/timetree.nexus results/99_FINAL_REPORT/beta_timetree.nexus
        echo 'Time scale phylogenetic tree constructed beta' >> results/log/beta_aligned_trimmed_tree_ancestral.log' returned non-zero exit status 2.
[Thu Mar 13 11:33:51 2025]
RuleException:
CalledProcessError in file /Users/armel001/Documents/Workflow_template/workflow/rules/treetime_timescale.smk, line 23:
Command 'source /Users/armel001/miniforge3/bin/activate '/Users/armel001/Documents/Workflow_template/.snakemake/conda/38bd8cbf87b99d167db693ab77b559e9_'; set -euo pipefail;  
        treetime --aln results/01_Alignment/delta_aligned.fasta         --tree results/02_Phylogenetic_tree/delta_tree/delta_aligned_trimmed.fasta.treefile           --dates results/00_Dataset/delta_metadata.tsv             --clock-rate 0.008         --clock-std-dev 0.0035         --outdir results/04_Timescale_tree/delta_tree         --confidence
        cp results/04_Timescale_tree/delta_tree/timetree.nexus results/99_FINAL_REPORT/delta_timetree.nexus
        echo 'Time scale phylogenetic tree constructed delta' >> results/log/delta_aligned_trimmed_tree_ancestral.log' returned non-zero exit status 2.
Error in rule treetime_timescale:
    jobid: 21
    input: results/02_Phylogenetic_tree/beta_tree/beta_aligned_trimmed.fasta.treefile, results/01_Alignment/beta_aligned.fasta, results/00_Dataset/beta_metadata.tsv
    output: results/04_Timescale_tree/beta_tree, results/99_FINAL_REPORT/beta_timetree.nexus
    log: results/log/beta_aligned_trimmed_tree_ancestral.log (check log file(s) for error details)
    conda-env: /Users/armel001/Documents/Workflow_template/.snakemake/conda/38bd8cbf87b99d167db693ab77b559e9_
    shell:
        
        treetime --aln results/01_Alignment/beta_aligned.fasta         --tree results/02_Phylogenetic_tree/beta_tree/beta_aligned_trimmed.fasta.treefile           --dates results/00_Dataset/beta_metadata.tsv             --clock-rate 0.008         --clock-std-dev 0.0035         --outdir results/04_Timescale_tree/beta_tree         --confidence
        cp results/04_Timescale_tree/beta_tree/timetree.nexus results/99_FINAL_REPORT/beta_timetree.nexus
        echo 'Time scale phylogenetic tree constructed beta' >> results/log/beta_aligned_trimmed_tree_ancestral.log
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

[Thu Mar 13 11:33:51 2025]
Error in rule treetime_timescale:
    jobid: 27
    input: results/02_Phylogenetic_tree/delta_tree/delta_aligned_trimmed.fasta.treefile, results/01_Alignment/delta_aligned.fasta, results/00_Dataset/delta_metadata.tsv
    output: results/04_Timescale_tree/delta_tree, results/99_FINAL_REPORT/delta_timetree.nexus
    log: results/log/delta_aligned_trimmed_tree_ancestral.log (check log file(s) for error details)
    conda-env: /Users/armel001/Documents/Workflow_template/.snakemake/conda/38bd8cbf87b99d167db693ab77b559e9_
    shell:
        
        treetime --aln results/01_Alignment/delta_aligned.fasta         --tree results/02_Phylogenetic_tree/delta_tree/delta_aligned_trimmed.fasta.treefile           --dates results/00_Dataset/delta_metadata.tsv             --clock-rate 0.008         --clock-std-dev 0.0035         --outdir results/04_Timescale_tree/delta_tree         --confidence
        cp results/04_Timescale_tree/delta_tree/timetree.nexus results/99_FINAL_REPORT/delta_timetree.nexus
        echo 'Time scale phylogenetic tree constructed delta' >> results/log/delta_aligned_trimmed_tree_ancestral.log
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Complete log: .snakemake/log/2025-03-13T112805.134884.snakemake.log
WorkflowError:
At least one job did not complete successfully.
